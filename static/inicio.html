<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FiguraLab</title>
  <link rel="icon" href="img/reno.png" type="image/png" sizes="32x32">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
    crossorigin="anonymous"></script>
  <link rel="stylesheet" href="css/inicio.css">
</head>

<body>
  <div id="header-placeholder"></div>
  <div id="carouselExampleIndicators" class="carousel slide">
    <div class="carousel-indicators">
      <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active"
        aria-current="true" aria-label="Slide 1"></button>
      <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1"
        aria-label="Slide 2"></button>
      <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2"
        aria-label="Slide 3"></button>
      <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="3"
        aria-label="Slide 4"></button>
      <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="4"
        aria-label="Slide 5"></button>
    </div>
    <!-- Carrusel -->
    <div class="carousel-inner">
      <div class="carousel-item active">
        <img src="img/img carrusel/img1.jpg" class="d-block w-100" alt="img1">
      </div>
      <div class="carousel-item">
        <img src="img/img carrusel/img2.png" class="d-block w-100" alt="img2">
      </div>
      <div class="carousel-item">
        <img src="img/img carrusel/img3.jpg" class="d-block w-100" alt="img3">
      </div>
      <div class="carousel-item">
        <img src="img/img carrusel/img4.jpg" class="d-block w-100" alt="img4">
      </div>
      <div class="carousel-item">
        <img src="img/img carrusel/img5.jpg" class="d-block w-100" alt="img5">
      </div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators"
      data-bs-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators"
      data-bs-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Next</span>
    </button>
    <!-- Productos destacados -->
    <div class="container my-5">
      <h2 class="text-center mb-4">Productos Destacados</h2>
      <div class="row" id="productosInicio"></div>
      <div class="text-center mt-3">
        <a href="catalogo.html" class="btn btn-warning">Ver Catálogo Completo</a>
      </div>
    </div>
    <!-- Noticias -->
    <div class="container my-5">
      <h2 class="text-center mb-4">Noticias de Anime y Figuras 3D</h2>
      <div class="row row-cols-1 row-cols-md-3 g-4">
        <!-- Noticia 1 -->
        <div class="col">
          <div class="card h-100 shadow">
            <img src="img/imgNoticias/imgJujutsuKaisen.jpeg" class="card-img-top" alt="Noticia Anime">
            <div class="card-body">
              <h5 class="card-title">Nueva temporada de Jujutsu Kaisen</h5>
              <p class="card-text">El anime regresa con una nueva temporada llena de acción y sorpresas.</p>
            </div>
          </div>
        </div>
        <!-- Noticia 2 -->
        <div class="col">
          <div class="card h-100 shadow">
            <img src="img/imgNoticias/imgNarutoSasuke2.jpeg" class="card-img-top" alt="Figura Naruto y Sasuke">
            <div class="card-body">
              <h5 class="card-title">Figura 3D de Naruto</h5>
              <p class="card-text">Se lanza una edición coleccionista con detalles increíbles y edición limitada.</p>
            </div>
          </div>
        </div>
        <!-- Noticia 3 -->
        <div class="col">
          <div class="card h-100 shadow">
            <img src="img/imgNoticias/imgLuffy.png" class="card-img-top" alt="Figura Luffy">
            <div class="card-body">
              <h5 class="card-title">One Piece: Luffy en Gear 5</h5>
              <p class="card-text">La esperada figura ya está disponible para preventa en tiendas oficiales.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div id="footer-placeholder"></div>
    <!-- Offcanvas Carrito -->
    <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasCart" aria-labelledby="offcanvasCartLabel">
      <div class="offcanvas-header bg-warning-subtle">
        <h5 class="offcanvas-title fw-bold" id="offcanvasCartLabel">🛒 Tu Carrito</h5>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Cerrar"></button>
      </div>
      <div class="offcanvas-body">
        <ul class="list-group" id="cart-items">
          <!-- Aquí se inyectarán productos -->
        </ul>
        <hr>
        <div class="d-flex justify-content-between fw-bold">
          <span>Total:</span>
          <span id="cart-total">$0</span>
        </div>
        <a class="btn btn-warning w-100 mt-3" href="gracias.html">Finalizar Compra</a>
      </div>
    </div>

    <script src="js/users.js"></script>
    <script src="js/controlSeccion.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        loadProducts();   // asegura que siempre haya productos
        renderCatalog();  // pinta el catálogo con lo que haya en localStorage
      });
    </script>
    <script>
      fetch('header.html')
        .then(r => r.text())
        .then(html => {
          document.getElementById('header-placeholder').innerHTML = html;
          applySessionUI();
        })
        .catch(error => console.error('Error al cargar el header:', error));
    </script>
    <script>
      fetch('footer.html')
        .then(r => r.text())
        .then(html => {
          document.getElementById('footer-placeholder').innerHTML = html;
        })
        .catch(error => console.error('Error al cargar el footer:', error));
    </script>

</body>

</html>